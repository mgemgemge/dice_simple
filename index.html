<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dice Duel</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 40px; }
    button { padding: 15px 30px; font-size: 18px; margin: 10px; }
  </style>
</head>
<body>
  <h2>üé≤ Dice Duel</h2>
  <p id="welcome">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
  <p id="balance">üí∞ –ë–∞–ª–∞–Ω—Å: ‚Äî</p>
  <button id="roll">–ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫</button>

  <script>
    // –ñ–¥—ë–º, –ø–æ–∫–∞ Telegram –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
    setTimeout(() => {
      const initData = window.Telegram?.WebApp?.initDataUnsafe;
      const user = initData?.user;

      if (!user) {
        document.getElementById('welcome').textContent = '‚ö†Ô∏è –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Telegram!';
        return;
      }

      const name = user.username || user.first_name || '–¥—Ä—É–≥';
      document.getElementById('welcome').textContent = `–ü—Ä–∏–≤–µ—Ç, ${name}!`;

      let balance = localStorage.getItem('dice_balance');
      if (!balance) {
        balance = 500;
        localStorage.setItem('dice_balance', '500');
      }
      document.getElementById('balance').textContent = `üí∞ –ë–∞–ª–∞–Ω—Å: ${balance} –º–æ–Ω–µ—Ç`;

      document.getElementById('roll').onclick = () => {
        const dice = Math.floor(Math.random() * 6) + 1;
        alert(`–í—ã–ø–∞–ª–æ: ${dice}!`);
      };

      Telegram.WebApp.ready();
    }, 300);
  </script>
</body>
</html>
